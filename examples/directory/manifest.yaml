general:
  hostname: directory.example
  description: The directory microservice exposes a RESTful API for persisting personal records in a SQL database.
  package: github.com/microbus-io/fabric/examples/directory
  frameworkVersion: 1.22.0

functions:
  Create:
    signature: Create(httpRequestBody Person) (key PersonKey)
    description: Create registers the person in the directory.
    method: POST
    route: /persons
  Load:
    signature: Load(key PersonKey) (httpResponseBody Person)
    description: Load looks up a person in the directory.
    method: GET
    route: /persons/key/{key}
  Delete:
    signature: Delete(key PersonKey)
    description: Delete removes a person from the directory.
    method: DELETE
    route: /persons/key/{key}
  Update:
    signature: Update(key PersonKey, httpRequestBody Person)
    description: Update updates the person's data in the directory.
    method: PUT
    route: /persons/key/{key}
  LoadByEmail:
    signature: LoadByEmail(email string) (httpResponseBody Person)
    description: LoadByEmail looks up a person in the directory by their email.
    method: GET
    route: /persons/email/{email}
  List:
    signature: List() (httpResponseBody []PersonKey)
    description: List returns the keys of all the persons in the directory.
    method: GET
    route: /persons

webs:
  WebUI:
    description: WebUI provides a form for making web requests to the CRUD endpoints.
    method: ANY
    route: /web-ui

configs:
  SQL:
    description: SQL is the connection string to the database.
    type: string
